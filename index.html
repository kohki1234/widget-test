<!doctype html>
<html lang="en">
<head>
  <script src="https://lpcdn.lpsnmedia.net/webagent/client-SDK.min.js"></script>
  <script>
    function myFunction() {
      console.log("write a line method was called")
      var notificationHandler = function(data) {
          // Do something with the notifications
      };

      var updateCallback = function(data) {
          // Do something with the returning data
          var path = data.key;
          var value = data.newValue;
          // called each time the value is updated.
          // If there's an existing value when bind is called - this callback
          // will be called with the existing value
          if (path === 'visitorInfo.visitorName') {
              lpTag.agentSDK.command(lpTag.agentSDK.cmdNames.write,
                  {text: 'Hello ' + value + '!'}, notifyWhenDone);
              if (visitorLocation) {
                  lpTag.agentSDK.command(lpTag.agentSDK.cmdNames.write,
                      {text: 'I see you are from ' + visitorLocation}, notifyWhenDone);
              }
          }
      };


      var notifyWhenDone = function(err) {
        if (err) {
            // Do something with the error
        }
        // called when the command is completed successfully,
        // or when the action terminated with an error.
      };

      var cmdName = lpTag.agentSDK.cmdNames.write; // = "Write ChatLine"
      var data = {text: "Some text"};

      lpTag.agentSDK.init({notificationCallback: notificationHandler});
      lpTag.agentSDK.command(cmdName, data, notifyWhenDone);
    };

  
  </script>


  <meta charset="utf-8">
  <title>WidgetTest</title>
  <base href="https://kohki1234.github.io/widget-test/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
<link rel="stylesheet" href="styles.3ff695c00d717f2d2a11.css"></head>
<body>
  <button onclick="myFunction()">Click me</button>
  <app-root>
  </app-root>
<script type="text/javascript" src="runtime.06daa30a2963fa413676.js"></script><script type="text/javascript" src="polyfills.f4b78b65941f8063fd57.js"></script><script type="text/javascript" src="main.360671de2e4d4fdd43cb.js"></script></body>
</html>